# Svalinn Defence Installation
# Extendable trigger that replaces is_planet_class checks
is_giga_svalinn_installation = {
	OR = {
		is_planet_class = pc_giga_maginot_ringworld
	}
}

# country/system has any of the maginot-related megastructures (these are only present during construction)
has_giga_svalinn_installation = {
	OR = {
		has_megastructure = svalinn_platform_0
	}
}

# stars on which the svalinn *platform* can be built - can exclude stuff here
# these are just an origin system for the interstellar bastion - don't block black holes etc.
is_giga_svalinn_buildable_star = {
	always = yes
}

# stars on which the bifrost star collectors can be built - more than just an origin system for the interstellar bastion
is_giga_svalinn_bifrost_allowed_star = {
	giga_is_standard_star = yes # normal stars
	giga_is_superpower_star = yes # O class
	giga_is_neutron_type_star = yes # sure why not, use the neutron flux
	giga_is_white_hole = yes # easter egg: wtf are you doing with the unique white hole
}

# trigger for megastructure having stars where the Bifrost part can still be built
# it's a set of platforms that collect star energy, 
# dyson sphere obviously won't work but a ringworld can
is_giga_svalinn_bifrost_combinable_megastructure = {
	OR = {
		# exclusions
		NOR = {
			# most megas won't work
			has_any_megastructure = no
			has_planet_flag = has_megastructure
			has_planet_flag = megastructure
			# wrong star type
		}
		# specifically allow these exceptions
		solar_system = { has_star_flag = ring_world_built }
	}
}

# vallid target systems where you can build an SDI halfway between that system and the one where you built the mega
is_valid_svalinn_bastion_target = {
	always = yes
}

