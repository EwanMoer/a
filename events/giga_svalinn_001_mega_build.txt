namespace = giga_svalinn_construction

### do stuff ###

# spawns system
## call from system with svalinn construction
system_event = {
	id = giga_svalinn_construction.100
	is_triggered_only = yes
	hide_window = yes

	trigger = {
		always = yes
	}

	immediate = {
		event_target:giga_system_x = {
			set_variable = {
				which = giga_calculated_distance_to_y_system
				value = event_target:giga_system_y.value:giga_calculate_half_of_distance
			}
			spawn_system = {
				#min_distance = giga_calculated_distance_to_y_system
				#max_distance = giga_calculated_distance_to_y_system
				min_distance = 0
				max_distance = 100
				#min_orientation_angle = event_target:giga_system_y
				#max_orientation_angle = event_target:giga_system_y
				min_orientation_angle = 0
				max_orientation_angle = 360
				hyperlane = no
				is_discovered = yes
				initializer = svalinn_interstellar_init
				effect = {
					isolate_system = yes
					save_event_target_as = new_giga_aerolfos_new_special_system
				}
			}
			last_created_system = {
				create_starbase = {
					size = starbase_outpost
					owner = root
				}
				set_surveyed = { surveyed = yes }
				every_system_planet = { set_surveyed = { surveyed = yes } }
			}
			remove_hyperlane = {
				from = event_target:giga_system_x
				to = event_target:giga_system_y
			}
			add_hyperlane = {
				from = event_target:giga_system_x
				to = event_target:new_giga_aerolfos_new_special_system
			}
			add_hyperlane = {
				from = event_target:giga_system_y
				to = event_target:new_giga_aerolfos_new_special_system
			}
		}
	}
}


